"use strict";(self.webpackChunk_shopby_vanilla_components=self.webpackChunk_shopby_vanilla_components||[]).push([[687],{586:(t,e,s)=>{s.d(e,{T$:()=>h});var n=Object.defineProperty,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(t,e,s)=>e in t?n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,i=(t,e)=>{for(var s in e||(e={}))r.call(e,s)&&l(t,s,e[s]);if(a)for(var s of a(e))o.call(e,s)&&l(t,s,e[s]);return t};class h extends HTMLElement{constructor(){super(),this.templateMap=new Map,this.rendered=!1,this.state={},this.slotChange=t=>{if(this.rendered)return;const[e]=t.assignedElements();e.querySelectorAll("[slot]").forEach((({slot:t,outerHTML:e})=>{this.templateMap.set(t,e)})),this.rendered=!0,this.render(e.outerHTML)},this.insertSlotBy(),!this.getAttribute("INITIALIZABLE")&&this.setup(),this.setEvent()}insertSlotBy(t=this){t.attachShadow({mode:"open"}).innerHTML="<slot></slot>"}setup(){}setState(t,e){if(this.state=i(i({},this.state),t),!e)return;const s=this.templateMap.get(e),n=this.querySelector(`[slot=${e}]`);this.render(s,n)}getState(){return this.state}setEvent(){}addEvent({eventType:t,eventMap:e,element:s=this}){s.addEventListener(t,(t=>{var s;const{target:n}=t,a=(t=>{var e,s,n;if(!t)return"";return(null==(e=t.dataset)?void 0:e.shopbyAction)||(null==(n=null==(s=t.closest("[data-shopby-action]"))?void 0:s.dataset)?void 0:n.shopbyAction)})(n);null==(s=null==e?void 0:e.get(a))||s(t)}))}render(t,e=this){const s=Handlebars.compile(t);e.innerHTML=s(this.state)}connectedCallback(){var t;const e=null==(t=this.shadowRoot)?void 0:t.querySelector("slot");e&&e.addEventListener("slotchange",(()=>this.slotChange(e)))}disconnectedCallback(){this.rendered=!1}adoptedCallback(){}attributeChangedCallback(t,e,s){console.log(t,e,s)}}h.ACTION_TYPE={},s.e(373).then(s.t.bind(s,373,23)).then((({default:t})=>{window.Handlebars=t}))}},t=>{t(t.s=586)}]);