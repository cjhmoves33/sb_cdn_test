"use strict";(self.webpackChunk_shopby_vanilla_components=self.webpackChunk_shopby_vanilla_components||[]).push([[687],{586:(e,t,s)=>{s.d(t,{T$:()=>h});var n=s(373),a=s.n(n);var o=Object.defineProperty,r=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,d=(e,t,s)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,c=(e,t)=>{for(var s in t||(t={}))l.call(t,s)&&d(e,s,t[s]);if(r)for(var s of r(t))i.call(t,s)&&d(e,s,t[s]);return e};class h extends HTMLElement{constructor(){super(),this.templateMap=new Map,this.rendered=!1,this.state={},this.slotChange=e=>{if(this.rendered)return;const[t]=e.assignedElements();t.querySelectorAll("[slot]").forEach((({slot:e,outerHTML:t})=>{this.templateMap.set(e,t)})),this.rendered=!0,this.render(t.outerHTML)},this.insertSlotBy(),!this.getAttribute("INITIALIZABLE")&&this.setup(),this.setEvent()}insertSlotBy(e=this){e.attachShadow({mode:"open"}).innerHTML="<slot></slot>"}setup(){}setState(e,t){if(this.state=c(c({},this.state),e),!t)return;const s=this.templateMap.get(t),n=this.querySelector(`[slot=${t}]`);this.render(s,n)}getState(){return this.state}setEvent(){}addEvent({eventType:e,eventMap:t,element:s=this}){s.addEventListener(e,(e=>{var s;const{target:n}=e,a=(e=>{var t,s,n;if(!e)return"";return(null==(t=e.dataset)?void 0:t.shopbyAction)||(null==(n=null==(s=e.closest("[data-shopby-action]"))?void 0:s.dataset)?void 0:n.shopbyAction)})(n);null==(s=null==t?void 0:t.get(a))||s(e)}))}render(e,t=this){const s=Handlebars.compile(e);t.innerHTML=s(this.state)}connectedCallback(){var e;const t=null==(e=this.shadowRoot)?void 0:e.querySelector("slot");t&&t.addEventListener("slotchange",(()=>this.slotChange(t)))}disconnectedCallback(){this.rendered=!1}adoptedCallback(){}attributeChangedCallback(e,t,s){console.log(e,t,s)}}h.ACTION_TYPE={},console.log("Handlebars",a()),window.Handlebars=a(),console.log("window.Handlebars",window.Handlebars)}},e=>{e.O(0,[373],(()=>(586,e(e.s=586)))),e.O()}]);