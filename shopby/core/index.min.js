"use strict";(self.webpackChunk_shopby_vanilla_components=self.webpackChunk_shopby_vanilla_components||[]).push([[687],{586:(t,e,s)=>{s.d(e,{T$:()=>c});var n=s(373),r=s.n(n);var a=Object.defineProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,h=(t,e,s)=>e in t?a(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,d=(t,e)=>{for(var s in e||(e={}))l.call(e,s)&&h(t,s,e[s]);if(o)for(var s of o(e))i.call(e,s)&&h(t,s,e[s]);return t};class c extends HTMLElement{constructor(){super(),this.templateMap=new Map,this.rendered=!1,this.state={},this.slotChange=t=>{if(this.rendered)return;const[e]=t.assignedElements();e.querySelectorAll("[slot]").forEach((({slot:t,outerHTML:e})=>{this.templateMap.set(t,e)})),this.rendered=!0,this.render(e.outerHTML)},this.insertSlotBy(),!this.getAttribute("INITIALIZABLE")&&this.setup(),this.setEvent()}insertSlotBy(t=this){t.attachShadow({mode:"open"}).innerHTML="<slot></slot>"}setup(){}setState(t,e){if(this.state=d(d({},this.state),t),!e)return;const s=this.templateMap.get(e),n=this.querySelector(`[slot=${e}]`);this.render(s,n)}getState(){return this.state}setEvent(){}addEvent({eventType:t,eventMap:e,element:s=this}){s.addEventListener(t,(t=>{var s;const{target:n}=t,r=(t=>{var e,s,n;if(!t)return"";return(null==(e=t.dataset)?void 0:e.shopbyAction)||(null==(n=null==(s=t.closest("[data-shopby-action]"))?void 0:s.dataset)?void 0:n.shopbyAction)})(n);null==(s=null==e?void 0:e.get(r))||s(t)}))}render(t,e=this){const s=Handlebars.compile(t);e.innerHTML=s(this.state)}connectedCallback(){var t;const e=null==(t=this.shadowRoot)?void 0:t.querySelector("slot");e&&e.addEventListener("slotchange",(()=>this.slotChange(e)))}disconnectedCallback(){this.rendered=!1}adoptedCallback(){}attributeChangedCallback(t,e,s){console.log(t,e,s)}}c.ACTION_TYPE={},window.Handlebars=r()}},t=>{t.O(0,[373],(()=>(586,t(t.s=586)))),t.O()}]);